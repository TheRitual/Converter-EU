(this["webpackJsonpconverter-eu"]=this["webpackJsonpconverter-eu"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(7),s=n.n(r),i=(n(13),n(2)),o=n(8),u=n(3),l=(n(14),n(0)),j=function(e){var t=e.isDisabled,n=e.inputValue,c=e.inputOnChange,a=e.selectValue,r=e.selectOnChange,s=e.list;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{disabled:t,onChange:c,step:"any",type:"number",value:n,min:"0",className:"controls__field"}),Object(l.jsx)("select",{className:"controls__select",value:a,onChange:r,children:s.map((function(e,t){return Object(l.jsx)("option",{value:e.code,children:e.code},t)}))})]})},d=(n(16),function(){return Object(l.jsxs)("div",{className:"lds-grid",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})}),b=(n(17),function(e){var t=e.number,n=e.code,c=e.small;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"code__value"+(c?" code__value--small":""),children:t}),"\xa0",Object(l.jsx)("span",{className:"code "+(c?"code--small":"code--large"),children:n})]})}),O=(n(18),function(e){var t=e.savedList,n=e.setSavedList,a=e.changeInfo,r=Object(c.useState)({source:"EUR",target:"PLN",sourceValue:21.37,targetValue:21.37}),s=Object(i.a)(r,2),O=s[0],f=s[1],v=Object(c.useState)(21.37),m=Object(i.a)(v,2),h=m[0],x=m[1],g=Object(c.useState)(!0),_=Object(i.a)(g,2),N=_[0],p=_[1],V=Object(c.useState)([]),S=Object(i.a)(V,2),C=S[0],L=S[1],F=function e(t){p(!0),a("Obtaining rates for "+t,!1),fetch("https://api.exchangerate.host/latest?base="+t).then((function(e){return e.json()})).then((function(e){a("I am ready to use!",!1),L(function(e){return Object.entries(e).map((function(e){return{code:e[0],rate:e[1]}}))}(e.rates)),p(!1)})).catch((function(n){a("Can't obtain rates for "+t+". Check console for more information.",!0),console.error(n),setTimeout((function(){return e(O.source)}),5e3)}))};Object(c.useEffect)((function(){if(C.length>0){var e=C.find((function(e){return e.code===O.target})).rate;x(e),f(Object(u.a)(Object(u.a)({},O),{},{targetValue:(O.sourceValue*e).toFixed(2)}))}}),[C]),Object(c.useEffect)((function(){F("EUR")}),[]);return Object(l.jsxs)("form",{className:"converter",onSubmit:function(e){e.preventDefault(),N||n([{id:t.length?t[0].id+1:0,source:O.source,sourceValue:Number(O.sourceValue).toFixed(2),target:O.target,targetValue:Number(O.targetValue).toFixed(2),rate:h}].concat(Object(o.a)(t)))},children:[Object(l.jsx)("div",{className:"converter__element",children:Object(l.jsx)(j,{isDisabled:N,inputValue:O.sourceValue,inputOnChange:function(e){var t=e.target;f(Object(u.a)(Object(u.a)({},O),{},{sourceValue:t.value,targetValue:Number(t.value*h).toFixed(2)}))},selectValue:O.source,selectOnChange:function(e){var t=e.target;f(Object(u.a)(Object(u.a)({},O),{},{source:t.value})),F(t.value)},list:C})}),Object(l.jsx)("div",{className:"converter__element",children:Object(l.jsx)(j,{isDisabled:N,inputValue:O.targetValue,inputOnChange:function(e){var t=e.target;f(Object(u.a)(Object(u.a)({},O),{},{sourceValue:Number(t.value/h).toFixed(2),targetValue:t.value}))},selectValue:O.target,selectOnChange:function(e){var t=e.target,n=C.find((function(e){return e.code===t.value})).rate;x(n),f(Object(u.a)(Object(u.a)({},O),{},{target:t.value,sourceValue:Number(O.targetValue/n).toFixed(2)}))},list:C})}),Object(l.jsxs)("div",{className:"converter__element",children:[Object(l.jsx)(b,{number:"1",code:O.source}),"\xa0=\xa0",Object(l.jsx)(b,{number:h,code:O.target})]}),Object(l.jsx)("div",{className:"converter__element",children:N?Object(l.jsx)(d,{}):Object(l.jsx)("button",{className:"converter__saveButton",children:"Save"})})]})}),f=(n(19),function(e){var t=e.title,n=e.children,c=e.preContent;return Object(l.jsxs)("section",{className:"section",children:[c||"",Object(l.jsx)("h2",{className:"section__header",children:t}),n]})}),v=(n(20),function(e){var t=e.savedList,n=e.setSavedList;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"savedList__clearButton",onClick:function(){n([])},children:"Clear List"}),Object(l.jsx)("ul",{className:"savedList__list",children:t.map((function(e){return Object(l.jsxs)("li",{className:"savedList__item",children:[Object(l.jsx)(b,{number:e.sourceValue,code:e.source,small:!0}),Object(l.jsx)("div",{children:" \u27a4 "}),Object(l.jsx)(b,{number:e.targetValue,code:e.target,small:!0}),Object(l.jsx)("button",{className:"savedList__removeButton",onClick:function(){return t=e.id,void n((function(e){return e.filter((function(e){return e.id!==t}))}));var t},children:"\u2716"})]},e.id)}))})]})}),m=(n(21),function(){return Object(l.jsx)("header",{children:Object(l.jsx)("h1",{className:"header__header",children:"React EU Converter"})})}),h=(n(22),function(e){var t=e.info;return Object(l.jsx)("section",{className:"info",children:Object(l.jsxs)("p",{className:"info__information".concat(t.isError?" info__information--error":""),children:[t.isError&&"ERROR: ",t.message]})})}),x=(n(23),function(e){var t,n=e.dateValue;return Object(l.jsx)("section",{className:"clock",children:(t=n,t.toLocaleDateString(void 0,{month:"numeric",weekday:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))})}),g=(n(24),function(){var e=function(e,t){var n=Object(c.useState)((function(){var n=localStorage.getItem(e);return null===n?t:JSON.parse(n)})),a=Object(i.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[r]),[r,s]}("saveList",[]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(new Date),s=Object(i.a)(r,2),o=s[0],u=s[1],j=Object(c.useState)({message:"Downloading information about exchange rates",isError:!1}),d=Object(i.a)(j,2),b=d[0],g=d[1];return Object(c.useEffect)((function(){var e=setInterval((function(){u(new Date)}),1e3);return function(){clearInterval(e)}}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("main",{className:"main",children:[Object(l.jsx)(m,{}),Object(l.jsxs)("section",{className:"container",children:[Object(l.jsx)(f,{title:"Converter",preContent:Object(l.jsx)(x,{dateValue:o}),children:Object(l.jsx)(O,{savedList:n,setSavedList:a,changeInfo:function(e,t){g({message:e,isError:t})}})}),Object(l.jsx)(f,{title:"Saved List",children:Object(l.jsx)(v,{savedList:n,setSavedList:a})})]})]}),Object(l.jsx)(h,{info:b})]})}),_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),_()}],[[25,1,2]]]);
//# sourceMappingURL=main.0d39537b.chunk.js.map