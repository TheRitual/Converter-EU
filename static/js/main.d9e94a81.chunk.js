(this["webpackJsonpconverter-eu"]=this["webpackJsonpconverter-eu"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(7),a=c.n(r),i=(c(13),c(2)),o=c(8),u=c(3),l=(c(14),c(0)),j=function(e){var t=e.isDisabled,c=e.inputValue,n=e.inputOnChange,s=e.selectValue,r=e.selectOnChange,a=e.list;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{disabled:t,onChange:n,step:"any",type:"number",value:c,min:"0",className:"controls__field"}),Object(l.jsx)("select",{className:"controls__select",value:s,onChange:r,children:a.map((function(e,t){return Object(l.jsx)("option",{value:e.code,children:e.code},t)}))})]})},d=(c(16),function(){return Object(l.jsxs)("div",{className:"lds-grid",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})}),b=(c(17),function(e){var t=e.number,c=e.code,n=e.small;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"code__value"+(n?" code__value--small":""),children:t}),"\xa0",Object(l.jsx)("span",{className:"code "+(n?"code--small":"code--large"),children:c})]})}),O=(c(18),function(e){var t=e.children;return Object(l.jsx)("div",{className:"clock__item",children:t})}),m=function(e){var t=e.content;return Object(l.jsxs)("div",{className:"clock__block",children:[Object(l.jsx)("div",{className:"clock__number",children:t}),Object(l.jsx)("div",{className:"clock__progress"})]})},g=function(e){var t=e.content,c=e.progress,n=e.max;return Object(l.jsxs)("div",{className:"clock__block",children:[Object(l.jsx)("div",{className:"clock__number",children:t}),Object(l.jsx)("div",{className:"clock__progress",children:Object(l.jsx)("progress",{className:"clock__progressBar",value:c,max:n})})]})},v=(c(19),function(e){var t=e.dateValue,c={dataString:t.toLocaleDateString(void 0,{month:"numeric",weekday:"short",day:"numeric",year:"numeric"}),dayProgress:3600*t.getHours()+60*t.getMinutes()+t.getSeconds(),dateHour:t.getHours()<10?"0"+t.getHours():t.getHours(),hourProgress:60*t.getMinutes()+t.getSeconds(),dateMinutes:t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),minutesProgress:t.getSeconds(),dateSecond:t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),secondsProgress:t.getMilliseconds()};return Object(l.jsxs)("section",{className:"clock",children:[Object(l.jsx)(O,{children:Object(l.jsx)(g,{content:c.dataString,progress:c.dayProgress,max:"86400"})}),Object(l.jsxs)(O,{children:[Object(l.jsx)(g,{content:c.dateHour,progress:c.hourProgress,max:"3600"}),Object(l.jsx)(m,{content:":"}),Object(l.jsx)(g,{content:c.dateMinutes,progress:c.minutesProgress,max:"60"}),Object(l.jsx)(m,{content:"."}),Object(l.jsx)(g,{content:c.dateSecond,progress:c.secondsProgress,max:"1000"})]})]})}),f=(c(20),function(e){var t=e.savedList,c=e.setSavedList,s=e.changeInfo,r=Object(n.useState)({source:"EUR",target:"PLN",sourceValue:21.37,targetValue:21.37}),a=Object(i.a)(r,2),O=a[0],m=a[1],g=Object(n.useState)(21.37),f=Object(i.a)(g,2),x=f[0],h=f[1],_=Object(n.useState)(!0),N=Object(i.a)(_,2),p=N[0],S=N[1],V=Object(n.useState)([]),L=Object(i.a)(V,2),C=L[0],k=L[1],F=Object(n.useState)(new Date),E=Object(i.a)(F,2),P=E[0],y=E[1],D=function e(t){S(!0),s("Obtaining rates for "+t,!1),fetch("https://api.exchangerate.host/latest?base="+t).then((function(e){return e.json()})).then((function(e){s("I am ready to use!",!1),k(function(e){return Object.entries(e).map((function(e){return{code:e[0],rate:e[1]}}))}(e.rates)),S(!1)})).catch((function(c){s("Can't obtain rates for "+t+". Check console for more information.",!0),console.error(c),setTimeout((function(){return e(O.source)}),5e3)}))};Object(n.useEffect)((function(){if(C.length>0){var e=C.find((function(e){return e.code===O.target})).rate;h(e),m(Object(u.a)(Object(u.a)({},O),{},{targetValue:(O.sourceValue*e).toFixed(2)}))}}),[C]),Object(n.useEffect)((function(){D("EUR")}),[]),Object(n.useEffect)((function(){var e=setInterval((function(){y(new Date)}),100);return function(){clearInterval(e)}}),[]);return Object(l.jsxs)("form",{className:"converter",onSubmit:function(e){e.preventDefault(),p||c([{id:t.length?t[0].id+1:0,source:O.source,sourceValue:Number(O.sourceValue).toFixed(2),target:O.target,targetValue:Number(O.targetValue).toFixed(2),rate:x}].concat(Object(o.a)(t)))},children:[Object(l.jsx)(v,{dateValue:P}),Object(l.jsx)("div",{className:"converter__element",children:Object(l.jsx)(j,{isDisabled:p,inputValue:O.sourceValue,inputOnChange:function(e){var t=e.target;m(Object(u.a)(Object(u.a)({},O),{},{sourceValue:t.value,targetValue:Number(t.value*x).toFixed(2)}))},selectValue:O.source,selectOnChange:function(e){var t=e.target;m(Object(u.a)(Object(u.a)({},O),{},{source:t.value})),D(t.value)},list:C})}),Object(l.jsx)("div",{className:"converter__element",children:Object(l.jsx)(j,{isDisabled:p,inputValue:O.targetValue,inputOnChange:function(e){var t=e.target;m(Object(u.a)(Object(u.a)({},O),{},{sourceValue:Number(t.value/x).toFixed(2),targetValue:t.value}))},selectValue:O.target,selectOnChange:function(e){var t=e.target,c=C.find((function(e){return e.code===t.value})).rate;h(c),m(Object(u.a)(Object(u.a)({},O),{},{target:t.value,sourceValue:Number(O.targetValue/c).toFixed(2)}))},list:C})}),Object(l.jsxs)("div",{className:"converter__element",children:[Object(l.jsx)(b,{number:"1",code:O.source}),"\xa0=\xa0",Object(l.jsx)(b,{number:x,code:O.target})]}),Object(l.jsx)("div",{className:"converter__element",children:p?Object(l.jsx)(d,{}):Object(l.jsx)("button",{className:"converter__saveButton",children:"Save"})})]})}),x=(c(21),function(e){var t=e.title,c=e.children;return Object(l.jsxs)("section",{className:"section",children:[Object(l.jsx)("h2",{className:"section__header",children:t}),c]})}),h=(c(22),function(e){var t=e.savedList,c=e.setSavedList;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"savedList__clearButton",onClick:function(){c([])},children:"Clear List"}),Object(l.jsx)("ul",{className:"savedList__list",children:t.map((function(e){return Object(l.jsxs)("li",{className:"savedList__item",children:[Object(l.jsx)(b,{number:e.sourceValue,code:e.source,small:!0}),Object(l.jsx)("div",{children:" \u27a4 "}),Object(l.jsx)(b,{number:e.targetValue,code:e.target,small:!0}),Object(l.jsx)("button",{className:"savedList__removeButton",onClick:function(){return t=e.id,void c((function(e){return e.filter((function(e){return e.id!==t}))}));var t},children:"\u2716"})]},e.id)}))})]})}),_=(c(23),function(){return Object(l.jsx)("header",{children:Object(l.jsx)("h1",{className:"header__header",children:"React EU Converter"})})}),N=(c(24),function(e){var t=e.info;return Object(l.jsx)("section",{className:"info",children:Object(l.jsxs)("p",{className:"info__information".concat(t.isError?" info__information--error":""),children:[t.isError&&"ERROR: ",t.message]})})}),p=(c(25),function(){var e=Object(n.useState)({message:"Downloading information about exchange rates",isError:!1}),t=Object(i.a)(e,2),c=t[0],s=t[1],r=function(e,t){var c=Object(n.useState)((function(){var c=localStorage.getItem(e);return null===c?t:JSON.parse(c)})),s=Object(i.a)(c,2),r=s[0],a=s[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[r]),[r,a]}("saveList",[]),a=Object(i.a)(r,2),o=a[0],u=a[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("main",{className:"main",children:[Object(l.jsx)(_,{}),Object(l.jsxs)("section",{className:"container",children:[Object(l.jsx)(x,{title:"Converter",children:Object(l.jsx)(f,{savedList:o,setSavedList:u,changeInfo:function(e,t){s({message:e,isError:t})}})}),Object(l.jsx)(x,{title:"Saved List",children:Object(l.jsx)(h,{savedList:o,setSavedList:u})})]})]}),Object(l.jsx)(N,{info:c})]})}),S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,27)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),S()}],[[26,1,2]]]);
//# sourceMappingURL=main.d9e94a81.chunk.js.map